import asyncio
from database.crudChroma import CRUD

crud = CRUD()
async def test_load():
    file_path = "/home/marclikestocode/nyu-fams/slack-chatbot/pdf_files"
    collection_name = "course_materials"
    data = await crud.save_pdfs(file_path, collection_name)
    chunk_size = 10
    for i in range(0, len(data), chunk_size):
        await crud.save_to_db(data[i:i+chunk_size])

asyncio.run(test_load())
